<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A list of all RSS/Atom feeds from the top 1 million websites.">
    <title>RSS Feed Index</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="content">
        <header>
            <h1>RSS Feed Index</h1>
                <p>
                    This website provides a list of all RSS/Atom feeds from the <a href="https://majestic.com/reports/majestic-million">top 1 million</a> websites for RSS/Atom feeds.
                    Find the code and data at <a href="https://github.com/lwindolf/rss-feed-index">GitHub</a>.
                </p>
                <div id="stats"></div>
        </header>
        <main>               
            <x-rss-feed-index-search style="RssFeedIndexSearch.css" base="data/"></x-rss-feed-index-search>
        </main>
        <script type="module">
            import { RssFeedIndexSearch } from './RssFeedIndexSearch.js';

            fetch('data/meta.json')
            .then(response => response.json())
            .then(data => {
                document.getElementById('stats').innerHTML = `
                <div class='stat'>Crawler Run: ${new Date(1000*data.generated).toLocaleDateString()}</div>
                <div class='stat'>Progress: ${Number((data.offset*100/1000000).toFixed(2))}%</div>
                <div class='stat'>Domains: ${data.domains}</div>
                <div class='stat'>Feeds: ${data.feeds}</div>
            `;
            });
        </script>
    </div>
</body>
</html> 